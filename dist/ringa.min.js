!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Ringa=t():e.Ringa=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=13)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e.controller)throw Error("Command(): attempting to build a command connected to a CommandThread that has no attached controller.");return n.id=e.controller.id+"_"+n.constructor.name,n.commandThread=e,n}return a(t,e),u(t,[{key:"startTimeoutCheck",value:function(){this.controller.options.timeout!==-1&&(this._timeoutToken=setTimeout(this._timeoutHandler.bind(this),this.controller.options.timeout))}},{key:"endTimeoutCheck",value:function(){void 0!==this._timeoutToken&&clearTimeout(this._timeoutToken),this._timeoutToken=void 0}},{key:"_execute",value:function(e,t){this.doneHandler=e,this.failHandler=t,this.startTimeoutCheck()}},{key:"done",value:function(){this.endTimeoutCheck(),this.doneHandler(!0)}},{key:"fail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.endTimeoutCheck(),this.error=e,this.failHandler(e,t)}},{key:"toString",value:function(){return this.id}},{key:"_timeoutHandler",value:function(){var e="CommandAbstract::_timeoutHandler(): the timeout for this command was exceeded "+this.toString();console.error(e),this.fail(new Error(e),this)}},{key:"ringaEvent",get:function(){return this.commandThread.ringaEvent}},{key:"controller",get:function(){return this.commandThread.controller}}]),t}(c.default);t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.id=t}return o(e,[{key:"toString",value:function(e){return this.id+" "+(e||" | RingaObject::toString() is designed to be overridden by the subclass.")}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),l=n(14),f=r(l),h=0,d=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];o(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"event_"+e+"_"+h++));return u.detail=n,n.ringaEvent=u,u.customEvent=new CustomEvent(e,{detail:n,bubbles:r,cancelable:a}),u.dispatched=!1,u.controller=void 0,u._errors=void 0,u.listeners={},u.caught=!1,u}return a(t,e),u(t,[{key:"dispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return setTimeout(this._dispatch.bind(this,e),0),this}},{key:"_dispatch",value:function(e){if(this.dispatched)throw Error("RingaEvent::dispatch(): events should only be dispatched once!",this);this.dispatched=!0,window.__DEV__?(this.dispatchStack=f.default.parse(new Error),this.dispatchStack.shift(),this.dispatchStack[0].toString().search("Object.dispatch")!==-1&&this.dispatchStack.shift()):this.dispatchStack="To turn on stack traces, build Ringa in development mode. See documentation.",e.dispatchEvent(this.customEvent)}},{key:"fail",value:function(e){this.killed=!0,this.pushError(e)}},{key:"pushError",value:function(e){this._errors=this._errors||[],this.errors.push(e)}},{key:"toString",value:function(){console.log("["+this.type+"]",this.detail,this.target,this.stack)}},{key:"_done",value:function(){this._dispatchEvent(t.DONE)}},{key:"_fail",value:function(e){this._dispatchEvent(t.FAIL,void 0,e)}},{key:"_dispatchEvent",value:function(e,t,n){var r=this.listeners[e];r&&r.forEach(function(r){r({type:e,detail:t,error:n})})}},{key:"addListener",value:function(e,t){if("string"!=typeof e)throw Error("RingaEvent::addListener(): invalid eventType provided!"+e);return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),this}},{key:"addDoneListener",value:function(e){return this.addListener(t.DONE,e)}},{key:"addFailListener",value:function(e){return this.addListener(t.FAIL,e)}},{key:"type",get:function(){return this.customEvent.type}},{key:"bubbles",get:function(){return this.customEvent.bubbles}},{key:"cancelable",get:function(){return this.customEvent.cancelable}},{key:"target",get:function(){return this.customEvent.target}},{key:"currentTarget",get:function(){return this.customEvent.currentTarget}},{key:"errors",get:function(){return this._errors}}]),t}(c.default);d.DONE="done",d.FAIL="fail",d.PREHOOK="prehook",t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),s=r(u),c=n(20),l=r(c),f=n(21),h=r(f),d=n(19),p=r(d),y=n(22),v=r(y),m=n(5),b=r(m),_=n(9),g=function(){function e(t){o(this,e),this.executee=t}return a(e,[{key:"cacheArguments",value:function(e){this.argNames=(0,_.getArgNames)(e.execute)}},{key:"build",value:function(e){if("string"==typeof this.executee){var t=new b.default(this.executee);return new p.default(e,t)}if("function"==typeof this.executee.then)return new h.default(e,this.executee);if("function"==typeof this.executee){if(this.executee.prototype instanceof s.default){var n=new this.executee(e,this.argNames);return this.argNames||(this.cacheArguments(n),n.argNames=this.argNames),n}return new l.default(e,this.executee)}if(this.executee instanceof Array)return new v.default(e,this.executee);if("object"===i(this.executee)&&this.executee instanceof b.default)return new p.default(e,this.executee);throw Error("CommandFactory::build(): the type of executee you provided is not supported by Ringa: "+i(this.executee)+": "+this.executee)}}]),e}();t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),c=r(s),l=n(18),f=r(l),h=n(3),d=r(h),p=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e||"commandFactory"));r=r||{},r.synchronous=void 0!==r.synchronous&&r.synchronous;var u=a._hashArray.addOne;return a._hashArray.addOne=function(e){e instanceof d.default||(e=new d.default(e)),u.call(this,e)},n&&a.addAll(n),a.threadId=0,a}return a(t,e),u(t,[{key:"build",value:function(e){this.controller||console.log("CommandThreadFactory::build(): controller was not set before the build method was called.");var t=new f.default(this.id+"_Thread"+this.threadId,this);return this.threadId++,t}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),u=r(a),s=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!(arguments.length>4&&void 0!==arguments[4])||arguments[4],!(arguments.length>5&&void 0!==arguments[5])||arguments[5];o(this,e),this.eventType=t,this.detail=n,this.domNode=r,this.bubbles=!0,this.cancellable=!0,this.requireCatch=i}return i(e,[{key:"build",value:function(e){var t={};return Object.assign(t,this.detail),t._callee=e,t.requireCatch=this.requireCatch,new u.default(this.eventType,t,this.bubbles,this.cancellable)}},{key:"toString",value:function(){return"RingaEventFactory_"+this.eventType}}]),e}();t.default=s},function(e,t,n){"use strict";e.exports=n(16)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(6),c=r(s),l=n(1),f=r(l),h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[ID]",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;o(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u._hashArray=new c.default(n,r,a),u}return a(t,e),u(t,[{key:"add",value:function(){var e;return(e=this._hashArray).add.apply(e,arguments)}},{key:"addAll",value:function(){var e;return(e=this._hashArray).addAll.apply(e,arguments)}},{key:"addMap",value:function(){var e;return(e=this._hashArray).addMap.apply(e,arguments)}},{key:"addOne",value:function(){var e;return(e=this._hashArray).addOne.apply(e,arguments)}},{key:"get",value:function(){var e;return(e=this._hashArray).get.apply(e,arguments)}},{key:"getAll",value:function(){var e;return(e=this._hashArray).getAll.apply(e,arguments)}},{key:"getAsArray",value:function(){var e;return(e=this._hashArray).getAsArray.apply(e,arguments)}},{key:"sample",value:function(){var e;return(e=this._hashArray).sample.apply(e,arguments)}},{key:"remove",value:function(){var e;return(e=this._hashArray).remove.apply(e,arguments)}},{key:"removeByKey",value:function(){var e;return(e=this._hashArray).removeByKey.apply(e,arguments)}},{key:"removeAll",value:function(){var e;return(e=this._hashArray).removeAll.apply(e,arguments)}},{key:"intersection",value:function(){var e;return(e=this._hashArray).intersection.apply(e,arguments)}},{key:"complement",value:function(){var e;return(e=this._hashArray).complement.apply(e,arguments)}},{key:"has",value:function(){var e;return(e=this._hashArray).has.apply(e,arguments)}},{key:"hasMultiple",value:function(){var e;return(e=this._hashArray).hasMultiple.apply(e,arguments)}},{key:"collides",value:function(){var e;return(e=this._hashArray).collides.apply(e,arguments)}},{key:"forEach",value:function(){var e;return(e=this._hashArray).forEach.apply(e,arguments)}},{key:"forEachDeep",value:function(){var e;return(e=this._hashArray).forEachDeep.apply(e,arguments)}},{key:"sum",value:function(){var e;return(e=this._hashArray).sum.apply(e,arguments)}},{key:"average",value:function(){var e;return(e=this._hashArray).average.apply(e,arguments)}},{key:"filter",value:function(){var e;return(e=this._hashArray).filter.apply(e,arguments)}},{key:"objectAt",value:function(){var e;return(e=this._hashArray).objectAt.apply(e,arguments)}},{key:"clone",value:function(){var e;return(e=this._hashArray).clone.apply(e,arguments)}},{key:"all",get:function(){return this._hashArray._list}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.buildArgumentsFromRingaEvent=function(e,t,n){var r=[];if(!(t instanceof Array))throw Error("buildArgumentsFromRingaEvent(): An internal error has occurred in that expectedArguments is not an Array!");var o=e._injections=e._injections||{controller:e.controller,commandThread:e.commandThread,ringaEvent:n,customEvent:n.customEvent,target:n.target,done:e.done,fail:e.fail};for(var i in e.controller.options.injections)o[i]=e.controller.options.injections[i];return t.forEach(function(i){if(n.detail&&n.detail.hasOwnProperty(i))r.push(n.detail[i]);else{if(!o.hasOwnProperty(i)){var a=e.toString()+": the property '"+i+"' was not provided on the dispatched ringaEvent.Expected Arguments were: ['"+t.join("'.'")+"'] Dispatched from: "+(n.dispatchStack?n.dispatchStack[0]:"unknown stack.");throw Error(a)}r.push(o[i])}}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getArgNames=function(e){var t=e.toString();return t=t.substring(t.indexOf("(")+1,t.indexOf(")")),t=t.replace(/[\r\n\s]*/g,""),t=t.replace(/\\+['"]/g,"").replace(/=\s*(["']).*?\1/g,"").replace(/=.*?(,|$)/g,""),0!==t.length?t.split(","):[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),c=r(s),l=n(1),f=r(l),h=n(6),d=r(h),p=n(2),y=r(p),v=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!n)throw Error("Controller:constructor(): no DOMNode provided to constructor!");return a.domNode=n,a.options=r||{},a.options.timeout=a.options.timeout||5e3,a.options.throwKillsThread=void 0===a.options.throwKillsThread,a.options.consoleLogFails=void 0===a.options.consoleLogFails,a.options.injections=a.options.injections||{},a.commandThreads=new d.default("id"),a.eventTypeToCommandThreadFactory=new Map,a._eventHandler=a._eventHandler.bind(a),a}return a(t,e),u(t,[{key:"getListener",value:function(e){return this.eventTypeToCommandThreadFactory[e]}},{key:"addListener",value:function(e,t){var n=void 0;if(!t||t instanceof Array)n=new c.default(this.id+"_"+e+"_CommandThreadFactory",t);else{if("function"!=typeof t.build)throw Error("Controller::addListener(): the provided commandThreadFactoryOrArray is not valid!");n=t}if(!(n&&n instanceof c.default))throw Error("Controller::addListener(): commandThreadFactory not an instance of CommandThreadFactory");if(n.controller)throw Error("Controller::addListener(): commandThreadFactory cannot have two parent controllers!");if(this.eventTypeToCommandThreadFactory[e])throw Error("Controller.addListener(): the event '"+e+"' has already been added! Use getListener() to make modifications.");if(n.controller=this,this.eventTypeToCommandThreadFactory[e]=n,"string"==typeof e)this.domNode.addEventListener(e,this._eventHandler);else{var r=void 0;if(e.hasOwnProperty("toString")&&(r=e.toString()),!r)throw Error("Controller::addListener(): provided eventType is invalid.",e);this.domNode.addEventListener(r,this._eventHandler.bind(this))}return n}},{key:"removeListener",value:function(e){var t=this.eventTypeToCommandThreadFactory[e];if(t)return delete this.eventTypeToCommandThreadFactory[e],this.domNode.removeEventListener(e,this._eventHandler),t;throw Error("Controller:removeListener(): could not find a listener for '"+e+"'",this)}},{key:"hasListener",value:function(e){return void 0!==this.getListener(e)}},{key:"invoke",value:function(e,t){var n=t.build(e);return this.commandThreads.add(n),e._dispatchEvent(y.default.PREHOOK),n.run(e,this.threadDoneHandler.bind(this),this.threadFailHandler.bind(this)),n}},{key:"_eventHandler",value:function(e){if(e.detail.ringaEvent=e.detail.ringaEvent||new y.default(e.type,e.detail,e.bubbles,e.cancellable),e.detail.ringaEvent.controller)throw Error("Controller::_eventHandler(): event was received that has already been handled by another controller: "+e);e.detail.ringaEvent.controller=this;var t=this.eventTypeToCommandThreadFactory[e.type];if(!t)throw Error("Controller::_eventHandler(): caught an event but there is no associated CommandThreadFactory! Fatal error.");e.detail.ringaEvent.caught=!0;var n=void 0;try{n=this.preInvokeHandler(e.detail.ringaEvent)}catch(t){this.options.consoleLogFails&&console.error(t),e.detail.ringaEvent._fail(t)}if(n!==!0)try{var r=this.invoke(e.detail.ringaEvent,t);this.postInvokeHandler(e.detail.ringaEvent,r)}catch(e){this.threadFailHandler(commandThread,e)}}},{key:"preInvokeHandler",value:function(e){return!1}},{key:"postInvokeHandler",value:function(e,t){}},{key:"threadDoneHandler",value:function(e){if(!this.commandThreads.has(e.id))throw Error("Controller::threadDoneHandler(): could not find thread with id "+e.id);this.commandThreads.remove(e),e.ringaEvent._done()}},{key:"threadFailHandler",value:function(e,t,n){if(this.options.consoleLogFails&&console.error(t),n){if(!this.commandThreads.has(e.id))throw Error("Controller:threadFailHandler(): the CommandThread with the id "+e.id+" was not found.");this.commandThreads.remove(e)}e.ringaEvent._fail(t)}},{key:"dispatch",value:function(e,t){return new y.default(e,t).dispatch(this.domNode)}}]),t}(f.default);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(0),l=r(c),f=n(8),h=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.argNames=n,r}return a(t,e),u(t,[{key:"_execute",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_execute",this).call(this,e,n);var r=(0,f.buildArgumentsFromRingaEvent)(this,this.argNames,this.commandThread.ringaEvent),o=this.argNames.indexOf("done")!==-1;this.execute.apply(this,r)&&!o&&this.done()}},{key:"execute",value:function(){return!1}},{key:"fail",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fail",this).call(this,e,n)}}]),t}(l.default);t.default=h},function(e,t,n){"use strict";function r(e,t){return function(n,r,a){var u=i[n.constructor.name]=i[n.constructor.name]||{};return u[r]={classTypeOrName:e,option:t},n.injector=u,t===o.ForceUpdate&&!function(){var e=a.set;a.set=function(t){e.call(this,t),this.forceUpdate()}}(),a}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(13),i=new WeakMap},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ForceUpdate=t.RingaEvent=t.Controller=t.CommandThreadFactory=t.CommandFactory=t.Command=t.inject=void 0;var o=n(12),i=r(o),a=n(11),u=r(a),s=n(3),c=r(s),l=n(4),f=r(l),h=n(10),d=r(h),p=n(2),y=r(p),v=n(5),m=r(v),b=Symbol("ForceUpdate");t.inject=i.default,t.Command=u.default,t.CommandFactory=c.default,t.CommandThreadFactory=f.default,t.Controller=d.default,t.RingaEvent=y.default,t.ForceUpdate=b,t.default={inject:i.default,ForceUpdate:b,Controller:d.default,Command:u.default,CommandFactory:c.default,CommandThreadFactory:f.default,Event:y.default,dispatch:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return new y.default(e,t).dispatch(n)},iif:function(e,t){},Spawn:function(e){},Bind:function(e){},EventFactory:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return new m.default(e,t,n,r,o,i)}}},function(e,t,n){"use strict";var r,o,i;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,u){o=[n(15)],r=u,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(void 0,function(e){var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(e.indexOf(":")===-1)return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,n=t.exec(e.replace(/[\(\)]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]},parseV8OrIE:function(t){var r=t.stack.split("\n").filter(function(e){return!!e.match(n)},this);return r.map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||void 0,i=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new e({functionName:o,fileName:i,lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseFFOrSafari:function(t){var n=t.stack.split("\n").filter(function(e){return!e.match(r)},this);return n.map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new e({functionName:t});var n=t.split("@"),r=this.extractLocation(n.pop()),o=n.join("@")||void 0;return new e({functionName:o,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var u=n.exec(r[i]);u&&o.push(new e({fileName:u[2],lineNumber:u[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var u=n.exec(r[i]);u&&o.push(new e({functionName:u[3]||void 0,fileName:u[2],lineNumber:u[1],source:r[i]}))}return o},parseOpera11:function(n){var r=n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this);return r.map(function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var u=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:u,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)}}})},function(e,t,n){"use strict";var r,o,i;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(void 0,function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function r(e){if(e instanceof Object)for(var n=o.concat(i.concat(a.concat(u))),r=0;r<n.length;r++)e.hasOwnProperty(n[r])&&void 0!==e[n[r]]&&this["set"+t(n[r])](e[n[r]])}var o=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],a=["fileName","functionName","source"],u=["args"];r.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof r)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new r(e)}},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",i=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+r+o+i}};for(var s=0;s<o.length;s++)r.prototype["get"+t(o[s])]=n(o[s]),r.prototype["set"+t(o[s])]=function(e){return function(t){this[e]=Boolean(t)}}(o[s]);for(var c=0;c<i.length;c++)r.prototype["get"+t(i[c])]=n(i[c]),r.prototype["set"+t(i[c])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[c]);for(var l=0;l<a.length;l++)r.prototype["get"+t(a[l])]=n(a[l]),r.prototype["set"+t(a[l])]=function(e){return function(t){this[e]=String(t)}}(a[l]);return r})},function(e,t,n){"use strict";var r=n(17),o=r._extend({init:function(e,t,n){e=e instanceof Array?e:[e],this._map={},this._list=[],this.callback=t,this.keyFields=e,this.isHashArray=!0,this.options=n||{ignoreDuplicates:!1},t&&t("construct")},addOne:function(e){var t=!1;for(var n in this.keyFields){n=this.keyFields[n];var r=this.objectAt(e,n);if(r)if(this._map[r]){if(this.options.ignoreDuplicates)return;if(this._map[r].indexOf(e)!=-1){t=!0;continue}this._map[r].push(e)}else this._map[r]=[e]}t&&this._list.indexOf(e)!=-1||this._list.push(e)},add:function(){for(var e=0;e<arguments.length;e++)this.addOne(arguments[e]);return this.callback&&this.callback("add",Array.prototype.slice.call(arguments,0)),this},addAll:function(e){if(e.length<100)this.add.apply(this,e);else for(var t=0;t<e.length;t++)this.add(e[t]);return this},addMap:function(e,t){return this._map[e]=t,this.callback&&this.callback("addMap",{key:e,obj:t}),this},intersection:function(e){var t=this;if(!e||!e.isHashArray)throw Error("Cannot HashArray.intersection() on a non-hasharray object. You passed in: ",e);var n=this.clone(null,!0),r=this.clone(null,!0).addAll(this.all.concat(e.all));return r.all.forEach(function(r){t.collides(r)&&e.collides(r)&&n.add(r)}),n},complement:function(e){if(!e||!e.isHashArray)throw Error("Cannot HashArray.complement() on a non-hasharray object. You passed in: ",e);var t=this.clone(null,!0);return this.all.forEach(function(n){e.collides(n)||t.add(n)}),t},get:function(e){return this._map[e]instanceof Array&&1==this._map[e].length?this._map[e][0]:this._map[e]},getAll:function(e){if(e=e instanceof Array?e:[e],"*"==e[0])return this.all;var t=new o(this.keyFields);for(var n in e)t.add.apply(t,this.getAsArray(e[n]));return t.all},getAsArray:function(e){return this._map[e]||[]},getUniqueRandomIntegers:function(e,t,n){var r=[],o={};for(e=Math.min(Math.max(n-t,1),e);r.length<e;){var i=Math.floor(t+Math.random()*(n+1));o[i]||(o[i]=!0,r.push(i))}return r},sample:function(e,t){var n=this.all,r=[];t&&(n=this.getAll(t));for(var o=this.getUniqueRandomIntegers(e,0,n.length-1),i=0;i<o.length;i++)r.push(n[o[i]]);return r},has:function(e){return this._map.hasOwnProperty(e);
},collides:function(e){for(var t in this.keyFields)if(this.has(this.objectAt(e,this.keyFields[t])))return!0;return!1},hasMultiple:function(e){return this._map[e]instanceof Array},removeByKey:function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t],r=this._map[n].concat();if(r){e=e.concat(r);for(var o in r){var i=r[o];for(var a in this.keyFields){var u=this.objectAt(i,this.keyFields[a]);if(u&&this._map[u]){var a=this._map[u].indexOf(i);a!=-1&&this._map[u].splice(a,1),0==this._map[u].length&&delete this._map[u]}}this._list.splice(this._list.indexOf(i),1)}}delete this._map[n]}return this.callback&&this.callback("removeByKey",e),this},remove:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];for(var n in this.keyFields){var r=this.objectAt(t,this.keyFields[n]);if(r){var n=this._map[r].indexOf(t);n!=-1&&this._map[r].splice(n,1),0==this._map[r].length&&delete this._map[r]}}this._list.splice(this._list.indexOf(t),1)}return this.callback&&this.callback("remove",arguments),this},removeAll:function(){var e=this._list.concat();return this._map={},this._list=[],this.callback&&this.callback("remove",e),this},objectAt:function(e,t){if("string"==typeof t)return e[t];for(var n=t.concat();n.length&&e;)e=e[n.shift()];return e},forEach:function(e,t){e=e instanceof Array?e:[e];var n=this.getAll(e);return n.forEach(t),this},forEachDeep:function(e,t,n){e=e instanceof Array?e:[e];var r=this,o=this.getAll(e);return o.forEach(function(e){n(r.objectAt(e,t),e)}),this},clone:function(e,t){var n=new o(this.keyFields.concat(),e?e:this.callback);return t||n.add.apply(n,this.all.concat()),n},sum:function(e,t,n){var r=this,o=0;return this.forEachDeep(e,t,function(e,t){void 0!==n&&(e*=r.objectAt(t,n)),o+=e}),o},average:function(e,t,n){var r=0,o=0,i=0,a=this;return void 0!==n&&this.forEachDeep(e,n,function(e){i+=e}),this.forEachDeep(e,t,function(e,t){void 0!==n&&(e*=a.objectAt(t,n)/i),r+=e,o++}),void 0!==n?r:r/o},filter:function(e,t){function n(e){var n=r.objectAt(e,t);return void 0!==n&&n!==!1}var r=this,i="function"==typeof t?t:n,a=new o(this.keyFields);return a.addAll(this.getAll(e).filter(i)),a}});Object.defineProperty(o.prototype,"all",{get:function(){return this._list}}),Object.defineProperty(o.prototype,"map",{get:function(){return this._map}}),e.exports=o,"undefined"!=typeof window&&(window.HashArray=o)},function(e,t,n){"use strict";var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){o=[],r=n,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(function(){var e=function(e){return e instanceof Function},t=function(e){var t=Array.prototype.slice.call(arguments,1);for(var n in t){var r=t[n];if("object"==("undefined"==typeof r?"undefined":a(r)))for(var o in r)e[o]=r[o]}return e},n={_isClassObject:!1},r=!1,o=function(){};return o._subClasses=[],o.prototype.init=function(){},o._extend=function(i,u,s){void 0===i&&(i={}),void 0===u&&(u={}),void 0===s&&(s={}),s=t({},n,s);var c=function e(){r||(this._class=e,this.init instanceof Function&&this.init.apply(this,arguments))},l=this;r=!0;var f=new l;r=!1;var h=l.prototype;c.prototype=f,c.prototype.constructor=c,c._superClass=l,c._subClasses=[],l._subClasses.push(c),c._extend=l._extend,c._extends=function(e){return this._superClass!=o&&(e==this._superClass||e==o||this._superClass._extends(e))};for(var d in i){var p=Object.getOwnPropertyDescriptor(i,d),y=p.value;if(null!==y&&"object"==("undefined"==typeof y?"undefined":a(y))&&y.descriptor)Object.defineProperty(f,d,y);else if("value"in p||!("set"in p||"get"in p)){f[d]=y;var v=h[d];e(y)&&e(v)&&y!==v&&(y._super=v)}else Object.defineProperty(f,d,p)}if(!s._isClassObject){var m=void 0===l._members?o:l._members._class,b=t({},s,{_isClassObject:!0}),_=m._extend(u,{},b);_._instanceClass=c,c._members=new _}return c},o._convert=function(e,t){var n=e.prototype;return n.init=function(){var t=this._origin=o._construct(e,arguments);Object.keys(t).forEach(function(e){t.hasOwnProperty(e)&&Object.defineProperty(this,e,{get:function(){return t[e]}})},this)},o._extend(n,{},t)},o._construct=function(e,t){void 0===t&&(t=[]);var n=function(){return e.apply(this,t)};return n.prototype=e.prototype,new n},o._superDescriptor=function(e,t){return"_class"in e&&e instanceof e._class&&(e=e._class),"_extends"in e&&e._extends instanceof Function&&e._extends(this)?Object.getOwnPropertyDescriptor(e._superClass.prototype,t):void 0},o})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),c=r(s),l=function(e){function t(e,n,r){o(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.options=r,a.commandThreadFactory=n,a.running=!1,a.children=[],a}return a(t,e),u(t,[{key:"buildCommands",value:function(){var e=this;this.commandThreadFactory.all.forEach(function(t){var n=t.build(e);e.add(n)})}},{key:"run",value:function(e,t,n){if(this.running)throw Error("CommandThread::run(): you cannot start a thread while it is already running!");if(0===this.commandThreadFactory.all.length)throw Error("CommandThread::run(): attempting to run a thread with no commands!");if(!e)throw Error("CommandThread::run(): cannot run a thread without a RingaEvent!");this.ringaEvent=e,this.doneHandler=t,this.failHandler=n,this.buildCommands(),this.index=0,this.executeNext()}},{key:"executeNext",value:function(){var e=this.all[this.index];try{e._execute(this._commandDoneHandler.bind(this),this._commandFailHandler.bind(this))}catch(e){this._commandFailHandler(e)}}},{key:"kill",value:function(){this.running=!1}},{key:"_commandDoneHandler",value:function(e){this.index++,this.index<this.all.length?setTimeout(this.executeNext.bind(this),0):this.doneHandler(this)}},{key:"_commandFailHandler",value:function(e,t){this.error=e,this.failHandler(this,e,t),t||this._commandDoneHandler(e)}},{key:"controller",get:function(){return this.commandThreadFactory.controller}}]),t}(c.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(0),l=r(c),f=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.ringaEventFactory=n,r}return a(t,e),u(t,[{key:"_execute",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_execute",this).call(this,e,n),this.dispatchedRingaEvent=this.ringaEventFactory.build(this),this.dispatchedRingaEvent.addDoneListener(this.dispatchedRingaEventDoneHandler.bind(this)),this.dispatchedRingaEvent.addFailListener(this.dispatchedRingaEventFailHandler.bind(this));var r=this.dispatchedRingaEvent.domNode||this.ringaEvent.target;this.dispatchedRingaEvent.dispatch(r),this.dispatchedRingaEvent.detail.requireCatch&&!this.dispatchedRingaEvent.caught&&this.fail(Error("CommandEventWrapper::_execute(): event "+this.dispatchedRingaEvent.type+" was expected to be caught and it was not."))}},{key:"toString",value:function(){return this.id+": "+this.ringaEventFactory.eventType}},{key:"dispatchedRingaEventDoneHandler",value:function(){this.done()}},{key:"dispatchedRingaEventFailHandler",value:function(e){this.fail(e)}}]),t}(l.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},c=n(0),l=r(c),f=n(8),h=n(9),d=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.func=n,r.expectedArguments=(0,h.getArgNames)(n),r}return a(t,e),u(t,[{key:"_execute",value:function(e,n){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_execute",this).call(this,e,n);var r=(0,f.buildArgumentsFromRingaEvent)(this,this.expectedArguments,this.ringaEvent),o=this.expectedArguments.indexOf("done")!==-1;try{this.func.apply(void 0,r),o||this.done()}catch(e){this.fail(e)}}},{key:"toString",value:function(){return this.id+": "+this.func.toString().substr(0,128)}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),s=r(u),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),s=r(u),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default);t.default=c}])});
//# sourceMappingURL=ringa.min.js.map